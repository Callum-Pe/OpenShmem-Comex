# (c) University of Houston System.  All rights reserved.

# ---------------------------------------------------------

ATOMIC_DIR           = ../atomic
ATOMIC_CPPFLAGS      = -I$(ATOMIC_DIR)

# ---------------------------------------------------------

COMMS_DIR        =    ../comms
COMMS_CPPFLAGS   =    -I$(COMMS_DIR)

# ---------------------------------------------------------

MEMORY_DIR        =    ../memory
MEMORY_CPPFLAGS   =    -I$(MEMORY_DIR)

# ---------------------------------------------------------


CC               = @CC@
CFLAGS           = @CFLAGS@
CPPFLAGS         = @CPPFLAGS@
LD               = @LD@
LDFLAGS          = @LDFLAGS@

CPPFLAGS        += -I..

CPPFLAGS        += $(ATOMIC_CPPFLAGS)
CPPFLAGS        += $(COMMS_CPPFLAGS)
CPPFLAGS        += $(MEMORY_CPPFLAGS)

ifeq "@DEBUG@" "TRUE"
CPPFLAGS        += -DDEBUG
endif

CFLAGS          += -fPIC
CFLAGS          += $(HASH_CFLAGS)

.PHONY: all default clean

SOURCES          = $(wildcard *.c)
OBJECTS          = $(SOURCES:.c=.o)

all default:	 $(OBJECTS)

clean:
	rm -f $(OBJECTS)
